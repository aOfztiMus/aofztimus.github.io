if (window.acf) {
	window.acf.addAction('render_block_preview', basicCarouselSplide);
}

document.addEventListener('DOMContentLoaded', basicCarouselSplide);

function basicCarouselSplide() {
	const basicCarouselElms = document.getElementsByClassName('basic-carousel-splide');

	for (var i = 0; i < basicCarouselElms.length; i++) {
		const autoplay = basicCarouselElms[i].parentElement.dataset.autoplay;
		const arrows = basicCarouselElms[i].parentElement.dataset.arrows;
		const duration = basicCarouselElms[i].parentElement.dataset.duration;
		const mobile = basicCarouselElms[i].parentElement.dataset.mobile;
		const tablet = basicCarouselElms[i].parentElement.dataset.tablet;
		const desktop = basicCarouselElms[i].parentElement.dataset.desktop;

		new Splide(basicCarouselElms[i], {
			destroy: true,
		}).mount();

		new Splide(basicCarouselElms[i], {
			arrows: arrows,
			autoplay: autoplay,
			interval: duration,
			mediaQuery: 'min',
			perPage: mobile,
			gap: 16,
			breakpoints: {
				768: {
					perPage: tablet,
				},
				992: {
					perPage: desktop,
				},
			}
		}).mount();
	}
}
