if( window.acf ) {
	window.acf.addAction( 'render_block_preview', mainCarouselSplide );
}

document.addEventListener( 'DOMContentLoaded', mainCarouselSplide );

function mainCarouselSplide() {
	const mainCarouselElms = document.getElementsByClassName( 'main-carousel-splide' );

	for ( var i = 0; i < mainCarouselElms.length; i++ ) {
		const arrow = mainCarouselElms[i].parentElement.dataset.arrow;
		const autoplay = mainCarouselElms[i].parentElement.dataset.autoplay;
		const duration = mainCarouselElms[i].parentElement.dataset.duration;

		new Splide( mainCarouselElms[i], {
			destroy: true,
		}).mount();

		new Splide( mainCarouselElms[i], {
			type: 'loop',
			arrows: arrow,
			autoplay: autoplay,
			interval: duration,
			speed: 2000,
			perPage: 1,
		}).mount();
	}
}
